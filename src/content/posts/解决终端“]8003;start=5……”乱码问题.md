---
title: è§£å†³ç»ˆç«¯å‡ºçŽ°â€œ\e]8003;start=â€¦â€¦[root@archlinux ~]#â€ä¹±ç é—®é¢˜
published: 2025-11-06
description: è§£å†³Arch Linuxæ–°ç‰ˆæœ¬ä¸­è¿œç¨‹è¿žæŽ¥æ—¶å‡ºçŽ°çš„ç»ˆç«¯ä¹±ç é—®é¢˜ï¼Œè¯¦ç»†åˆ†æžsystemdçš„OSC 3008æ‰©å±•æœºåˆ¶ï¼Œå¹¶æä¾›ä¸¤ç§æœ‰æ•ˆçš„è§£å†³æ–¹æ¡ˆã€‚
image: ../assets/images/20251204/IMG-2D7FDC3F99EAE66227856D6CE9F8A141.png
tags:
  - archlinux
  - æ—¥å¸¸
  - é”™è¯¯è§£å†³
category: æ—¥å¸¸æ‚è°ˆ
draft: false
lang: zh-CN
---
# è§£å†³ç»ˆç«¯å‡ºçŽ°â€œ]8003;start=â€¦â€¦[root@archlinux ~]#â€ä¹±ç é—®é¢˜
## èµ·å› 
ä¹‹å‰æŠŠæœ¬åœ°çš„archlinuxè™šæ‹ŸæœºçŽ©åäº†ï¼Œç„¶åŽå°±åŽ»ä¸‹è½½äº†ä¸ªæ–°ç‰ˆæœ¬`archlinux-2025.10.01-x86_64`ï¼Œè£…å¥½ä¹‹åŽå‘çŽ°ç”¨è¿œç¨‹å·¥å…·è¿žæŽ¥æ—¶å‡ºçŽ°äº†ä¸€ä¸²ä¹±ç ï¼š

å†…å®¹å¤§æ¦‚é•¿è¿™ä¸ªæ ·å­ï¼š
> ![](../assets/images/20251204/IMG-2D7FDC3F99EAE66227856D6CE9F8A141.png) \
> ]8003;start=994c89c3-2895-4d85-9705-28b0848737c5;user=root; \
> hostname=archlinux;machineid=122129fb764c4e73a6424fc1d12c599e; \
> bootid=bb3363c6-de80-4144-ad50-6f40d5e
> [root@archlinux ~]#

æˆ‘ä»¥ä¸ºæ˜¯è¿œç¨‹å·¥å…·çš„é—®é¢˜ï¼ˆå› ä¸ºå½“æ—¶åˆšå¥½è¿˜æ›´æ–°äº†è¿œç¨‹å·¥å…·çš„ç‰ˆæœ¬ï¼Œè€Œä¸”ä»Žè™šæ‹Ÿæœºç›´æŽ¥è®¿é—®çš„æ—¶å€™æ²¡é—®é¢˜ï¼‰ï¼Œä½†æ˜¯ç»è¿‡æ›´æ¢è¿œç¨‹å·¥å…·ç‰ˆæœ¬ã€ä½¿ç”¨å…¶ä»–è¿œç¨‹å·¥å…·ç­‰ï¼Œä¸€ä¸€æŽ’æŸ¥ï¼Œå‘çŽ°é—®é¢˜å¹¶ä¸åœ¨äºŽè¿œç¨‹å·¥å…·ï¼Œè€Œæ˜¯æ–°ç‰ˆæœ¬è™šæ‹Ÿæœºçš„é—®é¢˜

## é—®é¢˜å…³é”®
åœ¨æµè§ˆå™¨ä¸Šæœç´¢ç›¸å…³ä¿¡æ¯æ—¶æ‰¾åˆ°äº†è¿™ä¸ªé“¾æŽ¥ï¼š
(OSC 3008)[https://systemd.io/OSC_CONTEXT/]

æ€»ç»“ä¸€ä¸‹å°±æ˜¯ï¼š

æˆ‘ä½¿ç”¨çš„`archlinux-2025.10.01-x86_64`é•œåƒä½¿ç”¨äº†æ–°ç‰ˆæœ¬çš„systemdï¼Œè¿™ä¸ªç‰ˆæœ¬çš„systemdå¢žåŠ äº†ä¸€ä¸ªå«80-systemd-osc-context.shçš„è„šæœ¬æ–‡ä»¶ï¼Œå®ƒä¼šå‘è¿œç¨‹ç»ˆç«¯å‘é€shellå’Œå‘½ä»¤çš„ä¸€äº›ä¸Šä¸‹æ–‡ä¿¡æ¯
è€Œè¿œç¨‹å·¥å…·è¿˜æ²¡æœ‰æ”¯æŒå¤„ç†è¿™ç§ä¿¡æ¯ï¼Œå°±å¯¼è‡´äº†è¿™å¨ä¹±ç 

# è§£å†³åŠžæ³•ï¼š

## åœ¨ï½ž/.bashrcä¸­æ·»åŠ ä»¥ä¸‹å†…å®¹ï¼š
```bash
#ç¦ç”¨systemd OSC 3008çš„æ‰©å±•è¾“å‡º
__systemd_osc_context_precmdline() { :; }
__systemd_osc_context_common() { :; }
__systemd_osc_context_escape() { :; }
PS0=""
```
## ç„¶åŽé‡å¯è™šæ‹Ÿæœºæˆ–è€…é‡è½½é…ç½®æ–‡ä»¶ï¼š
> 1.é‡å¯
> ```bash
> reboot
> ```
> 2.é‡è½½é…ç½®
> ```bash
> source ~/.bashrc
> ```